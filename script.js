function getCart(){let e=localStorage.getItem("cart");return e?JSON.parse(e):[]}function saveCart(e){localStorage.setItem("cart",JSON.stringify(e))}function addToCart(e,t,a){let r=getCart();r.push({name:e,price:t,description:a,selected:!1}),saveCart(r),alert(`${e} ha sido a\xf1adido al carrito.`)}function buyNow(e,t){alert(`Gracias por su compra de: ${e} por $${t.toFixed(2)}`)}function updateCart(){let e=getCart(),t=document.getElementById("cart-items"),a=document.getElementById("cart-total");t.innerHTML="";let r=0;e.forEach((e,a)=>{let c=document.createElement("li"),n=document.createElement("input");n.type="checkbox",n.checked=e.selected,n.onchange=()=>toggleSelection(a),c.appendChild(n),c.appendChild(document.createTextNode(`${e.name} - $${e.price.toFixed(2)} - ${e.description}`));let o=document.createElement("button");o.textContent="X",o.onclick=()=>removeFromCart(a),c.appendChild(o),t.appendChild(c),e.selected&&(r+=e.price)}),a.textContent=r.toFixed(2)}function toggleSelection(e){let t=getCart();t[e].selected=!t[e].selected,saveCart(t),updateCart()}function removeFromCart(e){let t=getCart();t.splice(e,1),saveCart(t),updateCart()}function checkout(){let e=getCart(),t=e.filter(e=>e.selected);if(0===t.length){alert("Por favor, selecciona al menos un producto para comprar.");return}alert("Gracias por su compra!");let a=e.filter(e=>!e.selected);saveCart(a),updateCart()}window.location.pathname.includes("cart.html")&&updateCart();